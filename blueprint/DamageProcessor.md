# DamageProcessor

## 單一職責
專職處理任意兩個單位的戰鬥結算系統。經過解析(Parse)、判定(Judge)、計算(Caculate)、處理(Process)四大步驟，完成其傷害結算及效果觸發。

## 成員
- (private) 所有屬性的分類清單

## 接口

### new
- 輸入: X
- 輸出: 傷害處理器實例
- 說明: 生成一個傷害處理器。
- 隱藏細節: 單例模式。

### run
- 輸入: 傷害事件資訊(事件名, 來源, 目標)
- 輸出: 傷害類型, 傷害數值
- 說明: 完成傷害事件的結算和效果觸發。
- 隱藏細節: 會經過解析、判定、計算、處理四大步驟。

### (private) AddUp
- 輸入: 單位、某類屬性清單
- 輸出: 此單位該類屬性的加總值
- 說明: 加總此單位於該類所有的屬性。
- 隱藏細節: X

### (private) Parse
- 輸入: 傷害事件資訊
- 輸出: 成功或失敗
- 說明: 解析此次事件是否符合處理的條件，不符則終止處理。
- 隱藏細節: 如果為技能事件，會調用技能管理器獲得此技能的所有資訊。

### (private) Judge
- 輸入: 傷害事件資訊
- 輸出: 成功或失敗
- 說明: 判定此次事件是否生效，失敗則終止處理。
- 隱藏細節: X

### (private) Calculate
- 輸入: 傷害事件資訊
- 輸出: X
- 說明: 計算傷害來源要對傷害目標造成多少傷害。
- 隱藏細節: 傷害值會記錄在資訊裡。

### (private) Process
- 輸入: 傷害事件資訊
- 輸出: X
- 說明: 對目標造成傷害，並計算護盾。
- 隱藏細節: X
